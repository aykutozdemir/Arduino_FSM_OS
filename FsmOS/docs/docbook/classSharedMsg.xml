<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_classSharedMsg" xml:lang="en-US">
<title>SharedMsg Class Reference</title>
<indexterm><primary>SharedMsg</primary></indexterm>
<para>

<para>Smart pointer-like wrapper for MsgData with reference counting. </para>
 
</para>
<para>
<computeroutput>#include &lt;FsmOS.h&gt;</computeroutput>
</para>
<simplesect>
    <title>Public Member Functions    </title>
        <itemizedlist>
            <listitem><para><link linkend="_classSharedMsg_1a71c37ab34ce77dcdf80c756635b68ff2">SharedMsg</link> ()</para>

<para>Default constructor. </para>
</listitem>
            <listitem><para><link linkend="_classSharedMsg_1a432ceb0eefbe4e0affadab97f3fd2c36">SharedMsg</link> (MsgData *data)</para>

<para>Constructor from MsgData pointer. </para>
</listitem>
            <listitem><para><link linkend="_classSharedMsg_1a46d80a6afd7326ea7e692e14d2cbc6b8">SharedMsg</link> (const <link linkend="_classSharedMsg">SharedMsg</link> &amp;other)</para>

<para>Copy constructor. </para>
</listitem>
            <listitem><para><link linkend="_classSharedMsg">SharedMsg</link> &amp; <link linkend="_classSharedMsg_1ad7ce8df960b49c88f0d4264c23c93f81">operator=</link> (const <link linkend="_classSharedMsg">SharedMsg</link> &amp;other)</para>

<para>Assignment operator. </para>
</listitem>
            <listitem><para><link linkend="_classSharedMsg_1a1819d3340c3fa3d00950eb087cd97131">~SharedMsg</link> ()</para>

<para>Destructor. </para>
</listitem>
            <listitem><para>MsgData * <link linkend="_classSharedMsg_1aa20f39d8440882aa6260e5802833e67e">getData</link> () const</para>

<para>Get raw MsgData pointer. </para>
</listitem>
            <listitem><para>MsgData * <link linkend="_classSharedMsg_1ae7a947149acda480996050de99ee1b88">operator-&gt;</link> () const</para>

<para>Arrow operator for direct access to MsgData. </para>
</listitem>
            <listitem><para>bool <link linkend="_classSharedMsg_1aaba8448183f8a5204bd8bc887c7b4ec3">isValid</link> () const</para>

<para>Check if <link linkend="_classSharedMsg">SharedMsg</link> contains valid data. </para>
</listitem>
        </itemizedlist>
</simplesect>
<simplesect>
    <title>Private Member Functions    </title>
        <itemizedlist>
            <listitem><para>void <link linkend="_classSharedMsg_1a458f5ccc07be87e716ef117e2eb0bce9">release</link> ()</para>

<para>Internal method to release reference. </para>
</listitem>
        </itemizedlist>
</simplesect>
<simplesect>
    <title>Private Attributes    </title>
        <itemizedlist>
            <listitem><para>MsgData * <link linkend="_classSharedMsg_1a53039c707f1dc8a52c05f33af2cb24ea">msgData</link></para>

<para>Pointer to the wrapped MsgData. </para>
</listitem>
        </itemizedlist>
</simplesect>
<section>
<title>Detailed Description</title>

<para>Smart pointer-like wrapper for MsgData with reference counting. </para>



<para><link linkend="_classSharedMsg">SharedMsg</link> provides automatic memory management for messages through reference counting. When the last reference is destroyed, the message is automatically returned to the pool.</para>

<para><note><title>Note</title>

<para>This class is thread-safe for single-threaded cooperative multitasking. </para>
</note>
<warning><title>Warning</title>

<para>Do not use across different scheduler instances. </para>
</warning>
</para>
<para>
Definition at line <link linkend="_FsmOS_8h_source_1l00313">313</link> of file <link linkend="_FsmOS_8h_source">FsmOS.h</link>.</para>
</section>
<section>
<title>Constructor &amp; Destructor Documentation</title>
<anchor xml:id="_classSharedMsg_1a71c37ab34ce77dcdf80c756635b68ff2"/><section>
    <title>SharedMsg()<computeroutput>[1/3]</computeroutput></title>
<indexterm><primary>SharedMsg</primary><secondary>SharedMsg</secondary></indexterm>
<indexterm><primary>SharedMsg</primary><secondary>SharedMsg</secondary></indexterm>
<para><computeroutput>SharedMsg::SharedMsg ( )</computeroutput></para><para>

<para>Default constructor. </para>
</para>

<para>Creates an empty <link linkend="_classSharedMsg">SharedMsg</link> with no associated data </para>
<para>
Definition at line <link linkend="_FsmOS_8cpp_source_1l00103">103</link> of file <link linkend="_FsmOS_8cpp_source">FsmOS.cpp</link>.</para>
</section>
<anchor xml:id="_classSharedMsg_1a432ceb0eefbe4e0affadab97f3fd2c36"/><section>
    <title>SharedMsg()<computeroutput>[2/3]</computeroutput></title>
<indexterm><primary>SharedMsg</primary><secondary>SharedMsg</secondary></indexterm>
<indexterm><primary>SharedMsg</primary><secondary>SharedMsg</secondary></indexterm>
<para><computeroutput>SharedMsg::SharedMsg (MsgData * data)<computeroutput>[explicit]</computeroutput></computeroutput></para><para>

<para>Constructor from MsgData pointer. </para>
</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>data</entry><entry>
<para>Pointer to MsgData to wrap </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <note><title>Note</title>

<para>Increments reference count of the message </para>
</note>
</para>
<para>
Definition at line <link linkend="_FsmOS_8cpp_source_1l00105">105</link> of file <link linkend="_FsmOS_8cpp_source">FsmOS.cpp</link>.</para>
</section>
<anchor xml:id="_classSharedMsg_1a46d80a6afd7326ea7e692e14d2cbc6b8"/><section>
    <title>SharedMsg()<computeroutput>[3/3]</computeroutput></title>
<indexterm><primary>SharedMsg</primary><secondary>SharedMsg</secondary></indexterm>
<indexterm><primary>SharedMsg</primary><secondary>SharedMsg</secondary></indexterm>
<para><computeroutput>SharedMsg::SharedMsg (const <link linkend="_classSharedMsg">SharedMsg</link> &amp; other)</computeroutput></para><para>

<para>Copy constructor. </para>
</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>other</entry><entry>
<para><link linkend="_classSharedMsg">SharedMsg</link> to copy from </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <note><title>Note</title>

<para>Increments reference count of the shared message </para>
</note>
</para>
<para>
Definition at line <link linkend="_FsmOS_8cpp_source_1l00113">113</link> of file <link linkend="_FsmOS_8cpp_source">FsmOS.cpp</link>.</para>
</section>
<anchor xml:id="_classSharedMsg_1a1819d3340c3fa3d00950eb087cd97131"/><section>
    <title>~SharedMsg()</title>
<indexterm><primary>~SharedMsg</primary><secondary>SharedMsg</secondary></indexterm>
<indexterm><primary>SharedMsg</primary><secondary>~SharedMsg</secondary></indexterm>
<para><computeroutput>SharedMsg::~SharedMsg ( )</computeroutput></para><para>

<para>Destructor. </para>
</para>

<para><note><title>Note</title>

<para>Decrements reference count and frees message if count reaches 0 </para>
</note>
</para>
<para>
Definition at line <link linkend="_FsmOS_8cpp_source_1l00158">158</link> of file <link linkend="_FsmOS_8cpp_source">FsmOS.cpp</link>.</para>
Here is the call graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="classSharedMsg_a1819d3340c3fa3d00950eb087cd97131_cgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
</section>
<section>
<title>Member Function Documentation</title>
<anchor xml:id="_classSharedMsg_1aa20f39d8440882aa6260e5802833e67e"/><section>
    <title>getData()</title>
<indexterm><primary>getData</primary><secondary>SharedMsg</secondary></indexterm>
<indexterm><primary>SharedMsg</primary><secondary>getData</secondary></indexterm>
<para><computeroutput>MsgData * SharedMsg::getData ( ) const</computeroutput></para><para>

<para>Get raw MsgData pointer. </para>
</para>

<para><formalpara><title>Returns</title>

<para>Pointer to MsgData, or nullptr if invalid </para>
</formalpara>
</para>
<para>
Definition at line <link linkend="_FsmOS_8cpp_source_1l00176">176</link> of file <link linkend="_FsmOS_8cpp_source">FsmOS.cpp</link>.</para>
</section>
<anchor xml:id="_classSharedMsg_1aaba8448183f8a5204bd8bc887c7b4ec3"/><section>
    <title>isValid()</title>
<indexterm><primary>isValid</primary><secondary>SharedMsg</secondary></indexterm>
<indexterm><primary>SharedMsg</primary><secondary>isValid</secondary></indexterm>
<para><computeroutput>bool SharedMsg::isValid ( ) const</computeroutput></para><para>

<para>Check if <link linkend="_classSharedMsg">SharedMsg</link> contains valid data. </para>
</para>

<para><formalpara><title>Returns</title>

<para>true if valid, false if empty or invalid </para>
</formalpara>
</para>
<para>
Definition at line <link linkend="_FsmOS_8cpp_source_1l00180">180</link> of file <link linkend="_FsmOS_8cpp_source">FsmOS.cpp</link>.</para>
</section>
<anchor xml:id="_classSharedMsg_1ae7a947149acda480996050de99ee1b88"/><section>
    <title>operator-&gt;()</title>
<indexterm><primary>operator-&gt;</primary><secondary>SharedMsg</secondary></indexterm>
<indexterm><primary>SharedMsg</primary><secondary>operator-&gt;</secondary></indexterm>
<para><computeroutput>MsgData * SharedMsg::operator-&gt; ( ) const</computeroutput></para><para>

<para>Arrow operator for direct access to MsgData. </para>
</para>

<para><formalpara><title>Returns</title>

<para>Pointer to MsgData for member access </para>
</formalpara>
</para>
<para>
Definition at line <link linkend="_FsmOS_8cpp_source_1l00178">178</link> of file <link linkend="_FsmOS_8cpp_source">FsmOS.cpp</link>.</para>
</section>
<anchor xml:id="_classSharedMsg_1ad7ce8df960b49c88f0d4264c23c93f81"/><section>
    <title>operator=()</title>
<indexterm><primary>operator=</primary><secondary>SharedMsg</secondary></indexterm>
<indexterm><primary>SharedMsg</primary><secondary>operator=</secondary></indexterm>
<para><computeroutput><link linkend="_classSharedMsg">SharedMsg</link> &amp; SharedMsg::operator= (const <link linkend="_classSharedMsg">SharedMsg</link> &amp; other)</computeroutput></para><para>

<para>Assignment operator. </para>
</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>other</entry><entry>
<para><link linkend="_classSharedMsg">SharedMsg</link> to assign from </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>Reference to this <link linkend="_classSharedMsg">SharedMsg</link> </para>
</formalpara>
<note><title>Note</title>

<para>Properly manages reference counting </para>
</note>
</para>
<para>
Definition at line <link linkend="_FsmOS_8cpp_source_1l00121">121</link> of file <link linkend="_FsmOS_8cpp_source">FsmOS.cpp</link>.</para>
Here is the call graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="classSharedMsg_ad7ce8df960b49c88f0d4264c23c93f81_cgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_classSharedMsg_1a458f5ccc07be87e716ef117e2eb0bce9"/><section>
    <title>release()</title>
<indexterm><primary>release</primary><secondary>SharedMsg</secondary></indexterm>
<indexterm><primary>SharedMsg</primary><secondary>release</secondary></indexterm>
<para><computeroutput>void SharedMsg::release ( )<computeroutput>[private]</computeroutput></computeroutput></para><para>

<para>Internal method to release reference. </para>
</para>
<para>
Definition at line <link linkend="_FsmOS_8cpp_source_1l00163">163</link> of file <link linkend="_FsmOS_8cpp_source">FsmOS.cpp</link>.</para>
Here is the call graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="classSharedMsg_a458f5ccc07be87e716ef117e2eb0bce9_cgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Here is the caller graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="classSharedMsg_a458f5ccc07be87e716ef117e2eb0bce9_icgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
</section>
<section>
<title>Member Data Documentation</title>
<anchor xml:id="_classSharedMsg_1a53039c707f1dc8a52c05f33af2cb24ea"/><section>
    <title>msgData</title>
<indexterm><primary>msgData</primary><secondary>SharedMsg</secondary></indexterm>
<indexterm><primary>SharedMsg</primary><secondary>msgData</secondary></indexterm>
<para><computeroutput>MsgData* SharedMsg::msgData<computeroutput>[private]</computeroutput></computeroutput></para><para>

<para>Pointer to the wrapped MsgData. </para>
</para>
<para>
Definition at line <link linkend="_FsmOS_8h_source_1l00369">369</link> of file <link linkend="_FsmOS_8h_source">FsmOS.h</link>.</para>
</section>
<para>
The documentation for this class was generated from the following files:</para>
<link linkend="_FsmOS_8h">FsmOS.h</link><link linkend="_FsmOS_8cpp">FsmOS.cpp</link></section>
</section>
